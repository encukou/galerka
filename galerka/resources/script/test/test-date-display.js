define(['date-display', 'lib/qunit'], function (date_display, QUnit) {
    "use strict";
    var test = QUnit.test,
        equal = QUnit.equal,
        data;

    data = {
        'compact': [
            ['2010-06-07T18:01:00', '2010-06-07T18:01:00', '18:01'],
            ['2010-06-07T18:02:00', '2010-06-07T01:00:00', '18:02'],
            ['2010-06-07T18:03:00', '2010-06-07T00:00:00', '18:03'],
            ['2010-06-07T18:04:00', '2010-06-06T23:59:59', 'zítra'],
            ['2010-06-07T18:05:00', '2010-06-06T00:00:00', 'zítra'],
            ['2010-06-07T18:06:00', '2010-06-05T23:59:59', '7. 6.'],
            ['2010-06-07T18:07:00', '2009-12-30T23:59:59', '7. 6. 2010'],
            ['2010-06-07T18:08:00', '2010-06-08T00:00:00', 'včera'],
            ['2010-06-07T18:09:00', '2010-06-08T23:59:59', 'včera'],
            ['2010-06-07T18:10:00', '2010-06-09T00:00:00', '7. 6.'],
            ['2010-06-07T18:11:00', '2011-01-01T00:00:00', '7. 6. 2010'],
        ],
        'interval': [
            ['2010-06-07T18:01:00', '2010-06-07T18:01:00', 'před chvilkou'],

            ['2010-06-07T18:01:00', '2010-06-07T18:02:00', 'před minutou'],
            ['2010-06-07T18:01:00', '2010-06-07T18:03:00', 'před 2 minutami'],
            ['2010-06-07T18:01:00', '2010-06-07T18:04:00', 'před 3 minutami'],
            ['2010-06-07T18:01:00', '2010-06-07T18:05:00', 'před 4 minutami'],
            ['2010-06-07T18:01:00', '2010-06-07T18:06:00', 'před 5 minutami'],
            ['2010-06-07T18:01:00', '2010-06-07T18:07:00', 'před 6 minutami'],
            ['2010-06-07T18:01:00', '2010-06-07T18:10:00', 'před 9 minutami'],
            ['2010-06-07T18:01:00', '2010-06-07T18:20:00', 'před čtvrt hodinou'],
            ['2010-06-07T18:01:00', '2010-06-07T18:30:00', 'před půl hodinou'],
            ['2010-06-07T18:01:00', '2010-06-07T18:40:00', 'před půl hodinou'],
            ['2010-06-07T18:01:00', '2010-06-07T18:50:00', 'před hodinou'],
            ['2010-06-07T18:01:00', '2010-06-07T19:00:00', 'před hodinou'],
            ['2010-06-07T18:01:00', '2010-06-07T20:00:00', 'před 2 hodinami'],
            ['2010-06-07T18:01:00', '2010-06-07T21:00:00', 'před 3 hodinami'],
            ['2010-06-07T18:01:00', '2010-06-07T22:00:00', 'před 4 hodinami'],
            ['2010-06-07T18:01:00', '2010-06-07T23:00:00', 'před 5 hodinami'],
            ['2010-06-07T18:01:00', '2010-06-08T00:00:00', 'před 6 hodinami'],
            ['2010-06-07T18:01:00', '2010-06-08T14:00:00', 'před 20 hodinami'],
            ['2010-06-07T18:01:00', '2010-06-08T15:00:00', 'včera'],
            ['2010-06-07T18:01:00', '2010-06-08T23:00:00', 'včera'],
            ['2010-06-07T18:01:00', '2010-06-09T00:00:00', 'před 1 dnem'],
            ['2010-06-07T18:01:00', '2010-06-09T14:00:00', 'před 2 dny'],
            ['2010-06-07T18:01:00', '2010-06-10T14:00:00', 'před 3 dny'],
            ['2010-06-07T18:01:00', '2010-06-11T14:00:00', 'před 4 dny'],
            ['2010-06-07T18:01:00', '2010-06-12T14:00:00', 'před 5 dny'],
            ['2010-06-07T18:01:00', '2010-06-13T14:00:00', 'před 6 dny'],
            ['2010-06-07T18:01:00', '2010-06-14T14:00:00', 'před týdnem'],
            ['2010-06-07T18:01:00', '2010-06-15T14:00:00', 'před týdnem'],
            ['2010-06-07T18:01:00', '2010-06-16T14:00:00', 'před týdnem'],
            ['2010-06-07T18:01:00', '2010-06-17T14:00:00', 'před týdnem'],
            ['2010-06-07T18:01:00', '2010-06-18T14:00:00', 'před 2 týdny'],
            ['2010-06-07T18:01:00', '2010-06-20T14:00:00', 'před 2 týdny'],
            ['2010-06-07T18:01:00', '2010-06-22T14:00:00', 'před 2 týdny'],
            ['2010-06-07T18:01:00', '2010-06-24T14:00:00', 'před 2 týdny'],
            ['2010-06-07T18:01:00', '2010-06-26T14:00:00', 'před 3 týdny'],
            ['2010-06-07T18:01:00', '2010-06-28T14:00:00', 'před 3 týdny'],
            ['2010-06-07T18:01:00', '2010-06-30T14:00:00', 'před 3 týdny'],
            ['2010-06-07T18:01:00', '2010-07-01T14:00:00', 'před 3 týdny'],
            ['2010-06-07T18:01:00', '2010-07-04T14:00:00', 'minulý měsíc'],
            ['2010-06-07T18:01:00', '2010-07-10T14:00:00', 'minulý měsíc'],
            ['2010-06-07T18:01:00', '2010-07-20T14:00:00', 'minulý měsíc'],
            ['2010-06-07T18:01:00', '2010-07-30T14:00:00', 'minulý měsíc'],
            ['2010-06-07T18:01:00', '2010-08-01T14:00:00', 'před 2 měsíci'],
            ['2010-06-07T18:01:00', '2010-08-10T14:00:00', 'před 2 měsíci'],
            ['2010-06-07T18:01:00', '2010-08-20T14:00:00', 'před 2 měsíci'],
            ['2010-06-07T18:01:00', '2010-08-30T14:00:00', 'před 3 měsíci'],
            ['2010-06-07T18:01:00', '2010-09-10T14:00:00', 'před 3 měsíci'],
            ['2010-06-07T18:01:00', '2010-09-20T14:00:00', 'před 3 měsíci'],
            ['2010-06-07T18:01:00', '2010-09-30T14:00:00', 'před 4 měsíci'],
            ['2010-06-07T18:01:00', '2010-10-01T14:00:00', 'před 4 měsíci'],
            ['2010-06-07T18:01:00', '2010-11-01T14:00:00', 'před 5 měsíci'],
            ['2010-06-07T18:01:00', '2010-12-01T14:00:00', 'před 6 měsíci'],
            ['2010-06-07T18:01:00', '2011-01-01T14:00:00', 'před 7 měsíci'],
            ['2010-06-07T18:01:00', '2011-05-01T14:00:00', 'před 11 měsíci'],
            ['2010-06-07T18:01:00', '2011-10-01T14:00:00', 'loni'],
            ['2010-06-07T18:01:00', '2011-12-01T14:00:00', 'loni'],
            ['2010-06-07T18:01:00', '2012-01-01T14:00:00', 'před 2 lety'],
            ['2010-06-07T18:01:00', '2013-01-01T14:00:00', 'před 3 lety'],
            ['2010-06-07T18:01:00', '2014-01-01T14:00:00', 'před 4 lety'],
            ['2010-06-07T18:01:00', '2015-01-01T14:00:00', 'před 5 lety'],
            ['2010-06-07T18:01:00', '2016-01-01T14:00:00', 'před 6 lety'],

            ['2010-06-07T18:01:00', '2010-06-07T18:00:00', 'za minutu'],
            ['2010-06-07T18:01:00', '2010-06-07T17:59:00', 'za 2 minuty'],
            ['2010-06-07T18:01:00', '2010-06-07T17:58:00', 'za 3 minuty'],
            ['2010-06-07T18:01:00', '2010-06-07T17:57:00', 'za 4 minuty'],
            ['2010-06-07T18:01:00', '2010-06-07T17:56:00', 'za 5 minut'],
            ['2010-06-07T18:01:00', '2010-06-07T17:55:00', 'za 6 minut'],
            ['2010-06-07T18:01:00', '2010-06-07T17:50:00', 'za čtvrt hodiny'],
            ['2010-06-07T18:01:00', '2010-06-07T17:40:00', 'za půl hodiny'],
            ['2010-06-07T18:01:00', '2010-06-07T17:30:00', 'za půl hodiny'],
            ['2010-06-07T18:01:00', '2010-06-07T17:20:00', 'za půl hodiny'],
            ['2010-06-07T18:01:00', '2010-06-07T17:10:00', 'za hodinu'],
            ['2010-06-07T18:01:00', '2010-06-07T17:00:00', 'za hodinu'],
            ['2010-06-07T18:01:00', '2010-06-07T16:00:00', 'za 2 hodiny'],
            ['2010-06-07T18:01:00', '2010-06-07T15:00:00', 'za 3 hodiny'],
            ['2010-06-07T18:01:00', '2010-06-07T14:00:00', 'za 4 hodiny'],
            ['2010-06-07T18:01:00', '2010-06-07T13:00:00', 'za 5 hodin'],
            ['2010-06-07T18:01:00', '2010-06-07T12:00:00', 'za 6 hodin'],
            ['2010-06-07T18:01:00', '2010-06-07T00:00:00', 'za 18 hodin'],
            ['2010-06-07T18:01:00', '2010-06-06T23:00:00', 'za 19 hodin'],
            ['2010-06-07T18:01:00', '2010-06-06T10:00:00', 'zítra'],
            ['2010-06-07T18:01:00', '2010-06-06T00:00:00', 'zítra'],
            ['2010-06-07T18:01:00', '2010-06-05T23:00:00', 'za 2 dny'],
            ['2010-06-07T18:01:00', '2010-06-04T14:00:00', 'za 3 dny'],
            ['2010-06-07T18:01:00', '2010-06-03T14:00:00', 'za 4 dny'],
            ['2010-06-07T18:01:00', '2010-06-02T14:00:00', 'za 5 dní'],
            ['2010-06-07T18:01:00', '2010-06-01T14:00:00', 'za týden'],
            ['2010-06-07T18:01:00', '2010-05-30T14:00:00', 'za týden'],
            ['2010-06-07T18:01:00', '2010-05-29T14:00:00', 'za týden'],
            ['2010-06-07T18:01:00', '2010-05-28T14:00:00', 'za týden'],
            ['2010-06-07T18:01:00', '2010-05-27T14:00:00', 'za 2 týdny'],
            ['2010-06-07T18:01:00', '2010-05-26T14:00:00', 'za 2 týdny'],
            ['2010-06-07T18:01:00', '2010-05-24T14:00:00', 'za 2 týdny'],
            ['2010-06-07T18:01:00', '2010-05-22T14:00:00', 'za 2 týdny'],
            ['2010-06-07T18:01:00', '2010-05-20T14:00:00', 'za 3 týdny'],
            ['2010-06-07T18:01:00', '2010-05-18T14:00:00', 'za 3 týdny'],
            ['2010-06-07T18:01:00', '2010-05-16T14:00:00', 'za 3 týdny'],
            ['2010-06-07T18:01:00', '2010-05-14T14:00:00', 'za 3 týdny'],
            ['2010-06-07T18:01:00', '2010-05-10T14:00:00', 'příští měsíc'],
            ['2010-06-07T18:01:00', '2010-05-01T14:00:00', 'příští měsíc'],
            ['2010-06-07T18:01:00', '2010-04-30T14:00:00', 'za měsíc'],
            ['2010-06-07T18:01:00', '2010-04-20T14:00:00', 'za 2 měsíce'],
            ['2010-06-07T18:01:00', '2010-04-10T14:00:00', 'za 2 měsíce'],
            ['2010-06-07T18:01:00', '2010-04-01T14:00:00', 'za 2 měsíce'],
            ['2010-06-07T18:01:00', '2010-03-30T14:00:00', 'za 2 měsíce'],
            ['2010-06-07T18:01:00', '2010-03-20T14:00:00', 'za 3 měsíce'],
            ['2010-06-07T18:01:00', '2010-03-10T14:00:00', 'za 3 měsíce'],
            ['2010-06-07T18:01:00', '2010-03-01T14:00:00', 'za 3 měsíce'],
            ['2010-06-07T18:01:00', '2010-02-28T14:00:00', 'za 3 měsíce'],
            ['2010-06-07T18:01:00', '2010-02-20T14:00:00', 'za 4 měsíce'],
            ['2010-06-07T18:01:00', '2010-02-10T14:00:00', 'za 4 měsíce'],
            ['2010-06-07T18:01:00', '2010-02-01T14:00:00', 'za 4 měsíce'],
            ['2010-06-07T18:01:00', '2010-01-01T14:00:00', 'za 5 měsíců'],
            ['2010-06-07T18:01:00', '2009-12-01T14:00:00', 'za 6 měsíců'],
            ['2010-06-07T18:01:00', '2009-11-01T14:00:00', 'za 7 měsíců'],
            ['2010-06-07T18:01:00', '2009-05-01T14:00:00', 'za 13 měsíců'],
            ['2010-06-07T18:01:00', '2009-01-01T14:00:00', 'příští rok'],
            ['2010-06-07T18:01:00', '2008-01-01T14:00:00', 'za 2 roky'],
            ['2010-06-07T18:01:00', '2007-01-01T14:00:00', 'za 3 roky'],
            ['2010-06-07T18:01:00', '2006-01-01T14:00:00', 'za 4 roky'],
            ['2010-06-07T18:01:00', '2005-01-01T14:00:00', 'za 5 let'],
            ['2010-06-07T18:01:00', '2004-01-01T14:00:00', 'za 6 let'],
        ]
    };

    function run() {
        QUnit.module('date_display');
        Object.each(data, function (item, key) {
            var func = date_display.format;
            console.log(key);
            test("format (" + key + ")", function () {
                console.log(key);
                Array.each(item, function (a) {
                    var result = func(new Date(a[0]), new Date(a[1]), key);
                    equal(result, a[2], a[0] + ' @ ' + a[1] + ': ' + a[2]);
                });
            });
        });
    }
    return {
        run: run
    };
});
